# Ralph Loop 提示词模板 - 文档生成

## 任务目标

分析代码库，自动生成完整的项目文档。

## 文档范围

<!-- 选择需要生成的文档类型 -->
- [ ] API 文档
- [ ] 架构文档
- [ ] 部署文档
- [ ] 用户指南
- [ ] 开发指南

---

## 生成流程

### Step 1: 代码分析

1. **扫描项目结构**
   - 识别主要模块
   - 识别入口文件
   - 识别配置文件

2. **提取代码信息**
   - 函数/类定义
   - 接口定义
   - 注释和文档字符串

### Step 2: API 文档

1. **REST API**
   - 端点列表
   - 请求/响应格式
   - 认证方式
   - 错误码

2. **函数/类 API**
   - 公开接口
   - 参数说明
   - 返回值
   - 使用示例

### Step 3: 架构文档

1. **系统概览**
   - 模块划分
   - 依赖关系
   - 数据流

2. **技术栈**
   - 使用的框架/库
   - 版本信息
   - 配置说明

### Step 4: 部署文档

1. **环境要求**
   - 系统要求
   - 依赖安装

2. **部署步骤**
   - 配置说明
   - 启动命令
   - 健康检查

### Step 5: 用户/开发指南

1. **快速开始**
   - 安装步骤
   - 基本使用

2. **常见问题**
   - FAQ
   - 故障排除

---

## 完成标准

当满足以下条件时输出 `<promise>DOCS_COMPLETE</promise>`：

- [ ] 所有选定的文档类型已生成
- [ ] 文档内容准确反映代码
- [ ] 文档格式规范（Markdown）
- [ ] 文档已放置到正确位置

---

## 文档规范

### 格式要求
- 使用 Markdown 格式
- 包含目录（长文档）
- 代码块有语法高亮
- 图表使用 Mermaid（如适用）

### 内容要求
- 准确反映代码实现
- 不编造不存在的功能
- 标注版本信息
- 保持更新日期

### 输出位置
```
docs/
├── api/           # API 文档
├── architecture/  # 架构文档
├── deployment/    # 部署文档
├── guides/        # 用户/开发指南
└── README.md      # 项目概览
```

---

## 输出格式

```markdown
## 文档生成迭代 #N

### 当前任务
[生成 XX 文档]

### 分析结果
- 模块数: X
- API 端点数: Y
- 函数/类数: Z

### 生成的文档
- [文档路径]: [内容摘要]

### 下一步
[继续生成/完成信号]
```

---

## 使用示例

```bash
/ralph-loop "读取 .claude/ralph-prompts/doc-gen.md 作为执行指南，生成项目的 API 文档和架构文档" --max-iterations 20 --completion-promise "DOCS_COMPLETE"
```
