# Ralph Loop 提示词模板 - Phase 迭代

## 项目上下文

<!-- 根据项目修改以下内容 -->
你正在开发 {{PROJECT_NAME}}，{{PROJECT_DESCRIPTION}}。

## 任务流程

每次迭代执行以下步骤：

1. **读取进度** - 读取 `memory-bank/progress.md` 了解当前状态
2. **确定任务** - 从待办列表中选择优先级最高的下一个任务
3. **执行任务** - 按照项目规范完成任务
4. **验证结果** - 运行测试确保代码可用
5. **更新文档** - 更新 `memory-bank/progress.md`
6. **提交代码** - 使用 Conventional Commits 提交

## 完成标准

当满足以下**所有**条件时输出 `<promise>PHASE_COMPLETE</promise>`：

- [ ] 当前 Phase 的所有任务已完成
- [ ] 所有测试通过
- [ ] 代码已提交
- [ ] progress.md 已更新
- [ ] 无待解决的阻塞问题

## 关键规则

1. **禁止猜测接口** - 调用前必须查阅文档
2. **禁止假设业务** - 业务逻辑必须来源于明确需求
3. **单一职责** - 函数单一职责，嵌套 ≤ 3 层
4. **小步提交** - 每完成一个原子任务就提交
5. **测试先行** - 重要功能先写测试

## 卡住时的处理

如果连续 3 次迭代没有进展：

1. 在 progress.md 记录阻塞原因
2. 列出已尝试的方案
3. 分析可能的替代方案
4. 输出 `<promise>BLOCKED</promise>` 等待人工介入

## 每次迭代的输出格式

```markdown
## 迭代 #N

### 当前任务
[任务描述]

### 执行动作
1. [动作1]
2. [动作2]

### 结果
- 状态: 成功/失败/部分完成
- 测试: 通过/失败
- 提交: [commit hash] (如有)

### 下一步
[下一个任务或完成信号]
```
